<!DOCTYPE html>
{%extends 'base.html'%}

{% block title%}Shop{%endblock%}

{% block stylesheets%}
<link href = "{{STATIC_URL}}css/price-range.css" rel = "stylesheet">
<link href = "{{STATIC_URL}}css/jquery.simplecolorpicker.css" rel = "stylesheet">
<link href = "{{STATIC_URL}}css/jquery.simplecolorpicker-regularfont.css" rel = "stylesheet">
{%endblock%}

{% block ShopTogether %}
	<a href="#" onclick="TogetherJS(this); return false;" class="btn btn-default btn-lg" >Shop Together</a>
{% endblock %}

{% block body%}
<section>
	<div class="row">
		<div class="col-sm-3">
			<div class="left-sidebar">
				<div class="price-range">
					<h2>FILTER BY PRICE</h2>
					<div class="well">
						<form action = "/user/price/" method = "POST">
							{% csrf_token %}
							<div style="text-align:center">

														<input style="width:100%" name = "price" type="text" class="span2" value="" data-slider-min="0" data-slider-max="10000" data-slider-step="50" data-slider-value="[0,10000]" id="sl2" ><br />
							<!-- <b>0</b> <b class="pull-right">10000</b><br> -->
							<br>
							<input type="hidden" name="sub" value="{{ sub }}" >
							<input style="margin-left:10px;"class="btn btn-default"type="submit" value="Submit">
							</div>													
							</form>
					</div>
				</div><!--/price-range-->
				<h2>FILTER BY COLOR</h2>
				<div class="well"style="margin:30px auto 50px;text-align:center">
					<form name = "colorpicker" action = "/user/filter_color/" method = "POST">
						{% csrf_token %}
						<select name="colorpicker-shortlist" onchange="this.form.submit()">
						<option value="#F0F8FF">AliceBlue </option>
							<option value="#FAEBD7">AntiqueWhite</option>
							<option value="#00FFFF">Aqua</option>
							<option value="#7FFFD4">Aquamarine</option>
							<option value="#FFE4C4">Bisque</option>
							<option value="#0000FF">Blue</option>
							<option value="#8A2BE2">BlueViolet</option>
							<option value="#A52A2A">Brown</option>
							<option value="#5F9EA0">CadetBlue </option>
							<option value="#7FFF00">Chartreuse</option>
							<option value="#FF7F50">Coral</option>
							<option value="#6495ED">CornflowerBlue</option>
							<option value="#FFF8DC">Cornsilk</option>
							<option value="#DC143C">Crimson</option>
							<option value="#00FFFF">Cyan</option>
							<option value="#00008B">DarkBlue</option>
							<option value="#008B8B">DarkCyan</option>
							<option value="#006400">DarkGreen</option>
							<option value="#BDB76B">DarkKhaki</option>
							<option value="#8B008B">DarkMagenta</option>
							<option value="#FF8C00">DarkOrange</option>
							<option value="#9932CC">DarkOrchid</option>
							<option value="#8B0000">DarkRed</option>
							<option value="#483D8B">DarkSlateBlue</option>
							<option value="#00CED1">DarkTurquoise</option>
							<option value="#9400D3">DarkViolet</option>
							<option value="#FF1493">DeepPink</option>
							<option value="#00BFFF">DeepSkyBlue</option>
							<option value="#1E90FF">DodgerBlue </option>
							<option value="#B22222">FireBrick</option>
							<option value="#FFFAF0">FloralWhite</option>
							<option value="#228B22">ForestGreen</option>
							<option value="#FF00FF">Fuchsia</option>
							<option value="#FFD700">Gold</option>
							<option value="#008000">Green</option>
							<option value="#ADFF2F">GreenYellow</option>
							<option value="#FF69B4">HotPink</option>
							<option value="#CD5C5C">IndianRed</option>
							<option value="#4B0082">Indigo</option>
							<option value="#7CFC00">LawnGreen</option>
							<option value="#ADD8E6">LightBlue</option>
							<option value="#90EE90">LightGreen</option>
							<option value="#FFB6C1">LightPink</option>
							<option value="#20B2AA">LightSeaGreen</option>
							<option value="#87CEFA">LightSkyBlue</option>
							<option value="#00FF00">Lime</option>
							<option value="#32CD32">LimeGreen</option>
							<option value="#46d6db">YellowGreen</option>
							<option value="#FFFF00">Yellow</option>
							<option value="#F5F5F5">WhiteSmoke</option>
							<option value="#FFFFFF">White</option>
							<option value="#F5DEB3">Wheat</option> 
							<option value="#F5DEB3"> Violet</option>
							<option value="#40E0D0">Turquoise</option>
							<option value="#FF6347">Tomato</option>
							<option value="#D8BFD8">Thistle</option>
							<option value="#008080">Teak</option>
							<option value="#D2B48C">Tan</option>
							<option value="#4682B4">SteelBlue</option>
							<option value="#00FF7F">SpringGreen</option>
							<option value="#FFFAFA">Snow</option>
							<option value="#708090">SlateGray</option>
							<option value="#6A5ACD">SlateBlue</option>
							<option value="#87CEEB">SkyBlue</option>
							<option value="#C0C0C0">Silver</option>
							<option value="#A0522D">Sienna</option>
							<option value="#FFF5EE">SeaShell</option>
							<option value="#2E8B57">SeaGreen</option>
							<option value="#F4A460">SandyBrown</option>
							<option value="#FA8072">Salmon</option>
							<option value="#8B4513">SaddleBrown</option>
							<option value="#4169E1">RoyalBlue</option>
							<option value="#BC8F8F">RosyBrown</option>
							<option value="#FF0000">Red</option>
							<option value="#663399">RebeccaPurple</option>
							<option value="#800080">Purple</option>
							<option value="#B0E0E6">PowderBlue</option>
							<option value="#DDA0DD">Plum</option>
							<option value="#FFC0CB">Pink</option>
							<option value="#CD853F">Peru</option>
							<option value="#FFDAB9">PeachPuff</option>
							<option value="#FFEFD5">PapayaWhip</option>
							<option value="#DB7093">PaleVioletRed</option>
							<option value="#AFEEEE">PaleTurquoise</option>
							<option value="#98FB98">PaleGreen</option>
							<option value="#EEE8AA">PaleGoldenRod</option>
							<option value="#DA70D6">Orchid</option>
							<option value="#FF4500">OrangeRed</option>
							<option value="#FFA500">Orange</option>
							<option value="#6B8E23">OliveDrab</option>
							<option value="#808000">Olive</option>
							<option value="#FDF5E6">OldLace</option>
							<option value="#000080">Navy</option>
							<option value="#FFDEAD">NavajoWhite</option>
							<option value="#FFE4B5">Moccasin</option>
							<option value="#FFE4E1">MistyRose</option>
							<option value="#F5FFFA">MintCream</option>
							<option value="#191970">MidnightBlue</option>
							<option value="#C71585">MediumVioletRed</option>
							<option value="#48D1CC">MediumTurqoise</option>
							<option value="#00FA9A">MediumSpringGreen</option>
							<option value="#7B68EE">MediumSlateBlue</option>
							<option value="#3CB371">MediumSeaGreen</option>
							<option value="#9370DB">MediumPurple</option>
							<option value="#BA55D3">MediumOrchid</option>
							<option value="#0000CD">MediumBlue</option>
							<option value="#66CDAA">MediumAquaMarine</option>
							<option value="#800000">Maroon</option>
							<option value="#FF00FF">Magenta</option>

							<!-- <option value="#e1e1e1">Gray</option> -->
						</select>
					</form> </div>
					<h2>FILTER BY OCASSIONS</h2>
					<form role = "form" name = "occasions" action = "/user/filter_occasion/" method = "POST">
					<div class="well">
						
							{% csrf_token %}
							<div class="checkbox checkboxes">
								<label><input type="checkbox" name = "Bridal" value="True">Bridal</label>
							</div>
							<div class="checkbox checkboxes">
								<label><input type="checkbox" name = "Casual" value="True">Casual</label>
							</div>
							<div class="checkbox checkboxes">
								<label><input type="checkbox" name = "Festive" value="True">Festive</label>
							</div>
							<div class="checkbox checkboxes">
								<label><input type="checkbox" name = "Party" value="True">Party</label>
							</div>
							<div class="checkbox checkboxes">
								<label><input type="checkbox" name = "Reception" value="True">Reception</label>
							</div>
							<div class="checkbox checkboxes">
								<label><input type="checkbox" name = "Wedding" value="True">Wedding</label>
							</div>
							
						
					</div>

							<div style="text-align:center">
							<input style="margin-left:10px;"class="btn btn-default"type="submit" value="Submit">
							</div>
					</form>
							<br>
							<br>

					<h2>FILTER BY FABRIC</h2>
					<form role = "form" name = "occasions" action = "/user/fabricfilter/" method = "POST">
					<div class="well">
						
							{% csrf_token %}
							<div class="checkbox checkboxes">
								<label><input type="checkbox" name = "Bamber Georgette" value="True">Bamber Georgette</label>
							</div>
							<div class="checkbox checkboxes">
								<label><input type="checkbox" name = "Art Silk" value="True">Art Silk</label>
							</div>
							<div class="checkbox checkboxes">
								<label><input type="checkbox" name = "Banarasi" value="True">Banarasi</label>
							</div>
							<div class="checkbox checkboxes">
								<label><input type="checkbox" name = "Bhagalpuri Silk" value="True">Bhagalpuri Silk</label>
							</div>
							<div class="checkbox checkboxes">
								<label><input type="checkbox" name = "Brasso" value="True">Brasso</label>
							</div>
							<div class="checkbox checkboxes">
								<label><input type="checkbox" name = "Brocade" value="True">Brocade</label>
							</div>
							<div class="checkbox checkboxes">
								<label><input type="checkbox" name = "Chiffon" value="True">Chiffon</label>
							</div>
							<div class="checkbox checkboxes">
								<label><input type="checkbox" name = "Cotton" value="True">Cotton</label>
							</div>
							<div class="checkbox checkboxes">
								<label><input type="checkbox" name = "Faux Crepe" value="True">Faux Crepe</label>
							</div>						
					</div>

							<div style="text-align:center">
							<input style="margin-left:10px;"class="btn btn-default"type="submit" value="Submit">
							</div>
					</form>
							<br>
							<br>
					
					<h2>FILTER BY WORK</h2>
					<form role = "form" name = "occasions" action = "/user/workfilter/" method = "POST">
					<div class="well">
						
							{% csrf_token %}
					<div class="well" style="max-height:20em;overflow-y: scroll;">
						<div class="checkbox checkboxes">
							<label><input type="checkbox" name = "Aari Work" value="True">Aari Work</label>
						</div>
						<div class="checkbox checkboxes">
							<label><input type="checkbox" name = "Applique" value="True">Applique</label>
						</div>
						<div class="checkbox checkboxes">
							<label><input type="checkbox" name = "Beads" value="True">Beads</label>
						</div>
						<div class="checkbox checkboxes">
							<label><input type="checkbox" name = "Booti Work" value="True">Booti Work</label>
						</div>
						<div class="checkbox checkboxes">
							<label><input type="checkbox" name = "Cut Dana" value="True">Cut Dana</label>
						</div>
						<div class="checkbox checkboxes">
							<label><input type="checkbox" name = "Cut Work" value="True">Cut Work</label>
						</div>
						<div class="checkbox checkboxes">
							<label><input type="checkbox" name = "Cutdana Work" value="True">Cutdana Work</label>
						</div>
					</div>
				</div>
				<div style="text-align:center">
							<input style="margin-left:10px;"class="btn btn-default"type="submit" value="Submit">
							</div>
			</form>


							
							<br>
							<br>
				</div>
			</div>


			<div class="col-sm-9 padding-right">
				<div class="features_items"><!--features_items-->
					<h2 class="title">{{ sub }}</h2>
					
					
					{% for p in products.object_list %}
					<div class="col-sm-4" style="height:500px">
						<div class="product-image-wrapper">
							<div class="single-products">
								<div class="productinfo text-center">
									<a href = "/user/item/?item={{ p.productID }}"><img src="{{ STATIC_URL }}{{ p.image.url }}" alt="" width = "207" height = "250"/></a>
									<h2>â‚¹ {{ p.price }}</h2>
									<p>{{ p.name }}</p>
									<form method = "POST" action = "/user/item_cart/">
										{% csrf_token %}
										<input type = "hidden" name = "addcart" value = {{ p.productID }}>
										<button type = "submit" class="btn btn-default add-to-cart"><i class="fa fa-shopping-cart"></i>Add to cart</button>
										</form>
									</div>
								</div>
								<div class="choose">
									<ul class="nav nav-pills nav-justified">
										<li><a href="/user/add_wish?product={{ p.productID }}"><i class="fa fa-plus-square"></i>Add to Wishlist</a></li>
									</ul>
								</div>
							</div>
						</div>
						{% endfor %}
				
						</div>
							{% if products.object_list and products.paginator.num_pages > 1 %}
					<div style="text-align:center">
					<ul class="pagination">
						<!-- <span class="step-links"> -->
							{% if products.has_previous %}
							<body onload = "myFunction()">
								<li><a href= "/user/{{ pager }}/?sub={{ sub }}&page={{ products.previous_page_number }}" style="color:gray">&lt; </a></li>
								{% endif %}
								<li><span class="current" style="color:gray">
									&nbsp;Page {{ products.number }} of {{ products.paginator.num_pages }}
								</span></li>

								{% if products.has_next %}
								<li><a href="/user/{{ pager }}/?sub={{ sub }}&page={{ products.next_page_number }}" style="color:gray" > &gt;</a></li>
								{% endif %}
							<!-- </span> -->
						</ul>
					</div>
						{% endif %}
					</div>
					</div>
				</section>
				{%endblock%}



				{% block scripts %}
				<script type="text/javascript" src="{{ STATIC_URL }}js/jquery.simplecolorpicker.js"></script>			
				<script type="text/javascript" src="{{ STATIC_URL }}js/price-range.js"></script>
				<script>

				$('#sl2').slider();
				var RGBChange = function() {
	  				$('#RGB').css('background', 'rgb('+r.getValue()+','+g.getValue()+','+b.getValue()+')')
				};	

					function myFunction() {
						var x = document.URL;
						document.getElementById("demo").innerHTML = x;
					}
					$(document).ready(function() {

        // JQuery code to be added in here.

/*
 * Very simple jQuery Color Picker
 * https://github.com/tkrotoff/jquery-simplecolorpicker
 *
 * Copyright (C) 2012-2013 Tanguy Krotoff <tkrotoff@gmail.com>
 *
 * Licensed under the MIT license
 */

(function($) {
  'use strict';

  /**
   * Constructor.
   */
  var SimpleColorPicker = function(select, options) {
    this.init('simplecolorpicker', select, options);
  };

  /**
   * SimpleColorPicker class.
   */
  SimpleColorPicker.prototype = {
    constructor: SimpleColorPicker,

    init: function(type, select, options) {
      var self = this;

      self.type = type;

      self.$select = $(select);
      self.$select.hide();

      self.options = $.extend({}, $.fn.simplecolorpicker.defaults, options);

      self.$colorList = null;

      if (self.options.picker === true) {
        var selectText = self.$select.find('> option:selected').text();
        self.$icon = $('<span class="simplecolorpicker icon"'
                     + ' title="' + selectText + '"'
                     + ' style="background-color: ' + self.$select.val() + ';"'
                     + ' role="button" tabindex="0">'
                     + '</span>').insertAfter(self.$select);
        self.$icon.on('click.' + self.type, $.proxy(self.showPicker, self));

        self.$picker = $('<span class="simplecolorpicker picker ' + self.options.theme + '"></span>').appendTo(document.body);
        self.$colorList = self.$picker;

        // Hide picker when clicking outside
        $(document).on('mousedown.' + self.type, $.proxy(self.hidePicker, self));
        self.$picker.on('mousedown.' + self.type, $.proxy(self.mousedown, self));
      } else {
        self.$inline = $('<span class="simplecolorpicker inline ' + self.options.theme + '"></span>').insertAfter(self.$select);
        self.$colorList = self.$inline;
      }

      // Build the list of colors
      // <span class="color selected" title="Green" style="background-color: #7bd148;" role="button"></span>
      self.$select.find('> option').each(function() {
        var $option = $(this);
        var color = $option.val();

        var isSelected = $option.is(':selected');
        var isDisabled = $option.is(':disabled');

        var selected = '';
        if (isSelected === true) {
          selected = ' data-selected';
        }

        var disabled = '';
        if (isDisabled === true) {
          disabled = ' data-disabled';
        }

        var title = '';
        if (isDisabled === false) {
          title = ' title="' + $option.text() + '"';
        }

        var role = '';
        if (isDisabled === false) {
          role = ' role="button" tabindex="0"';
        }

        var $colorSpan = $('<span class="color"'
                         + title
                         + ' style="background-color: ' + color + ';"'
                         + ' data-color="' + color + '"'
                         + selected
                         + disabled
                         + role + '>'
                         + '</span>');

        self.$colorList.append($colorSpan);
        $colorSpan.on('click.' + self.type, $.proxy(self.colorSpanClicked, self));

        var $next = $option.next();
        if ($next.is('optgroup') === true) {
          // Vertical break, like hr
          self.$colorList.append('<span class="vr"></span>');
        }
      });
    },

    /**
     * Changes the selected color.
     *
     * @param color the hexadecimal color to select, ex: '#fbd75b'
     */
    selectColor: function(color) {
      var self = this;

      var $colorSpan = self.$colorList.find('> span.color').filter(function() {
        return $(this).data('color').toLowerCase() === color.toLowerCase();
      });

      if ($colorSpan.length > 0) {
        self.selectColorSpan($colorSpan);
      } else {
        console.error("The given color '" + color + "' could not be found");
      }
    },

    showPicker: function() {
      var pos = this.$icon.offset();
      this.$picker.css({
        // Remove some pixels to align the picker icon with the icons inside the dropdown
        left: pos.left - 6,
        top: pos.top + this.$icon.outerHeight()
      });

      this.$picker.show(this.options.pickerDelay);
    },

    hidePicker: function() {
      this.$picker.hide(this.options.pickerDelay);
    },

    /**
     * Selects the given span inside $colorList.
     *
     * The given span becomes the selected one.
     * It also changes the HTML select value, this will emit the 'change' event.
     */
    selectColorSpan: function($colorSpan) {
      var color = $colorSpan.data('color');
      var title = $colorSpan.prop('title');

      // Mark this span as the selected one
      $colorSpan.siblings().removeAttr('data-selected');
      $colorSpan.attr('data-selected', '');

      if (this.options.picker === true) {
        this.$icon.css('background-color', color);
        this.$icon.prop('title', title);
        this.hidePicker();
      }

      // Change HTML select value
      this.$select.val(color);
    },

    /**
     * The user clicked on a color inside $colorList.
     */
    colorSpanClicked: function(e) {
      // When a color is clicked, make it the new selected one (unless disabled)
      if ($(e.target).is('[data-disabled]') === false) {
        this.selectColorSpan($(e.target));
        this.$select.trigger('change');
      }
    },

    /**
     * Prevents the mousedown event from "eating" the click event.
     */
    mousedown: function(e) {
      e.stopPropagation();
      e.preventDefault();
    },

    destroy: function() {
      if (this.options.picker === true) {
        this.$icon.off('.' + this.type);
        this.$icon.remove();
        $(document).off('.' + this.type);
      }

      this.$colorList.off('.' + this.type);
      this.$colorList.remove();

      this.$select.removeData(this.type);
      this.$select.show();
    }
  };

  /**
   * Plugin definition.
   * How to use: $('#id').simplecolorpicker()
   */
  $.fn.simplecolorpicker = function(option) {
    var args = $.makeArray(arguments);
    args.shift();

    // For HTML element passed to the plugin
    return this.each(function() {
      var $this = $(this),
        data = $this.data('simplecolorpicker'),
        options = typeof option === 'object' && option;
      if (data === undefined) {
        $this.data('simplecolorpicker', (data = new SimpleColorPicker(this, options)));
      }
      if (typeof option === 'string') {
        data[option].apply(data, args);
      }
    });
  };

  /**
   * Default options.
   */
  $.fn.simplecolorpicker.defaults = {
    // No theme by default
    theme: '',

    // Show the picker or make it inline
    picker: false,

    // Animation delay in milliseconds
    pickerDelay: 0
  };

})(jQuery);


$('select[name="colorpicker-longlist"]').simplecolorpicker();
$('select[name="colorpicker-shortlist"]').simplecolorpicker();

$('#init').on('click', function() {
	$('select[name="colorpicker-shortlist"]').simplecolorpicker();
	$('select[name="colorpicker-longlist"]').simplecolorpicker();
});

$('#destroy').on('click', function() {
	$('select').simplecolorpicker('destroy');
});

$('#init').trigger('click');
});
</script>
{%endblock%}

